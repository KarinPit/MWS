---
import Navigation from "../components/navigation.vue";
import ContactForm from "../components/contactForm.vue";
import ProjectGallerySample from "../components/projectGallerySample.vue";
import Stages from "../components/stages.vue";
import "../../public/styles/about.css";
import "../../public/styles/generalStyles.css";
import { richTextParser } from "../js/richTextParser";

const imageResponse = await fetch(
    "https://mws-data-280b2464bf34.herokuapp.com/api/about-me?populate=*"
);
const data1 = await imageResponse.json();
---

<html lang="he">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link rel="icon" type="image/svg+xml" href="/images/Favicon-new.svg" />
        <title>MWS Studio</title>
        <link
            href="https://fonts.googleapis.com/css2?family=Alegreya+Sans+SC:wght@900&family=Assistant:wght@200;300;400;500;600;700;800&display=swap"
            rel="stylesheet"
        />
        <script src="../js/generalScripts.js"></script>
        <title>MWS Design</title>
    </head>
    <body>
        <main>
            <div class="loading-screen">
                <!-- <p>מיד מעבירים אותך</p> -->
                <img src="../../public/images/Loading.gif" alt="Loading gif" />
            </div>
            <div class="web-template">
                <div class="navbars">
                    <Navigation client:load />
                </div>

                <div class="about">
                    <div class="text-col">
                        <pre>
                            <h1>היי, נעים מאוד</h1>
                            <p set:html={richTextParser.convertToMarkdown(data1.data.attributes.myDescription)} />
                            <button class="default-button" onclick="location.href='/contact'">צרו קשר</button>
                        </pre>
                    </div>
                    <div class="image-col">
                        <img
                            src={data1.data.attributes.image.data.attributes
                                .url}
                            alt="designed rooms examples"
                        />
                    </div>
                </div>

                <div class="stages">
                    <div class="stages-box">
                        <h1 style="text-align:center">איך זה עובד?</h1>
                        <Stages client:load />
                    </div>
                </div>

                <div class="projects">
                    <h1 style="text-align: center;">פרויקטים נבחרים</h1>
                    <ProjectGallerySample client:load />
                </div>

                <div class="contact">
                    <ContactForm client:load />
                </div>

                <div class="footer">
                    <p>054-4568784</p>
                    <p>Karin Pitlik - Web Development</p>
                </div>
            </div>
        </main>
    </body>
</html>


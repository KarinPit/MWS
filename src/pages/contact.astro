---
import fetchApi from "../lib/strapi";
import Navigation from "../components/navigation.vue";
import ContactFormPage from "../components/contactFormPage.vue";
import Footer from "../components/footer.vue";
import "bootstrap/dist/css/bootstrap.css";
import "../../public/styles/navbar.css";
import "../../public/styles/contact.css";
export async function getStaticPaths() {
  const response = await fetch(
    "https://dry-everglades-63850-370c0019d409.herokuapp.com/api/contact-info"
  );
  const { data } = await response.json();
}

const info = Astro.props;
---

<html lang="he">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      rel="icon"
      type="image/svg+xml"
      href="../../public/images/flower.svg"
    />
    <title>MWS Studio</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Alegreya+Sans+SC:wght@900&family=Assistant:wght@200;300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <title>MWS Design</title>
    <script
      async
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBeaAuDK_B3rd4WJ8M3Pn39LkSR8HkYcWI&callback=console.debug&libraries=maps,marker&v=beta"
    ></script>
  </head>
  <body>
    <header>
      <Navigation client:load />
    </header>
    <main>
      <!-- <div class="row text-center my-auto">
        <ContactMenu client:load />
      </div> -->
      <div class="row text-end">
        <div class="col-lg-6 my-auto col-margin">
          <div id="map-div">
            <gmp-map
              center={`${info.data.attributes.latitude},${info.data.attributes.longitude}`}
              zoom="14"
              map-id="map"
            >
              <gmp-advanced-marker
                position={`${info.data.attributes.latitude},${info.data.attributes.longitude}`}
                title="My location"
              >
              </gmp-advanced-marker>
            </gmp-map>
          </div>
        </div>
        <div class="col-lg-6 my-auto col-margin">
          <ContactFormPage client:load />
        </div>
        <Footer client:load />
      </div>
    </main>
  </body>
</html>

<script
  src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js"
  integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE"
  crossorigin="anonymous"></script>
<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js"
  integrity="sha384-Y4oOpwW3duJdCWv5ly8SCFYWqFDsfob/3GkgExXKV4idmbt98QcxXYs9UoXAB7BZ"
  crossorigin="anonymous"></script>

<script>
  function openWhatsApp() {
    window.open("https://wa.me/972587809493");
  }

  function openFacebook() {
    window.open("https://www.facebook.com/werner.moran");
  }

  function openInstagram() {
    window.open("https://www.instagram.com/moran_interior_design/");
  }

  // function updateClipboard() {
  //   navigator.clipboard.writeText("0587809493");
  // }

  function openMail() {
    window.location.href = "mailto:karinpitlik@gmail.com?subject=&body=";
  }
</script>
